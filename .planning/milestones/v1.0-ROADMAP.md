# Milestone v1.0: MVP

**Status:** ✅ SHIPPED 2026-02-11
**Phases:** 1-3
**Total Plans:** 16

## Overview

GospelSmarts v1.0 delivers authentication, org hierarchy, and member enrollment — the foundation for a multi-ward, multi-language church platform. Users can sign up, leaders can create stakes and wards with language configuration, and members can search and join their ward.

## Phases

### Phase 1: Authentication Access

**Goal**: Users can securely access accounts via WorkOS email/password
**Depends on**: Nothing (first phase)
**Requirements**: AUTH-01, AUTH-02, AUTH-03
**Plans**: 6 plans
**Status**: ✅ Complete (2026-02-04)

Plans:
- [x] 01-01: Initialize pnpm workspace root
- [x] 01-02: Scaffold apps/web Next.js App Router app
- [x] 01-03: Integrate AuthKit provider and auth-aware home
- [x] 01-04: Add AuthKit callback and protected dashboard
- [x] 01-05: Verify WorkOS email verification and password reset
- [x] 01-06: Turbo Repo integration (infrastructure)

**Success Criteria:**
1. User can log in with email/password via WorkOS. ✓
2. User receives email verification after signup. ✓
3. User can reset password via email link. ✓

### Phase 2: Org Structure & Languages

**Goal**: Leaders can define stake/ward structure and supported languages
**Depends on**: Phase 1
**Requirements**: ORG-01, ORG-02, ORG-03
**Plans**: 6 plans
**Status**: ✅ Complete (2026-02-10)

Plans:
- [x] 02-01: Set up Convex with schema and WorkOS auth config
- [x] 02-02: Create auth function wrappers and user store
- [x] 02-03: Implement stake and ward mutations/queries
- [x] 02-04: Create ConvexClientProvider and integrate into layout
- [x] 02-05: Build stake/ward management UI pages
- [x] 02-06: Verify phase requirements end-to-end

**Success Criteria:**
1. Stake leader can create a stake. ✓
2. Ward leader can create a ward under a stake. ✓
3. Stake or ward can set supported languages to English and/or Spanish. ✓

### Phase 3: Member Enrollment

**Goal**: Members can find and join their stake and ward
**Depends on**: Phase 2
**Requirements**: MEMB-01, MEMB-02, MEMB-03
**Plans**: 4 plans
**Status**: ✅ Complete (2026-02-10)

Plans:
- [x] 03-01: Add search indexes and composite membership index to schema
- [x] 03-02: Create search queries and membership mutations
- [x] 03-03: Build join UI page and membership page
- [x] 03-04: Verify phase requirements end-to-end

**Success Criteria:**
1. Member can search for a stake. ✓
2. Member can search for a ward. ✓
3. Member can join a ward and stake and see membership confirmed. ✓

---

## Milestone Summary

**Decimal Phases:** None

**Key Decisions:**
- No AuthKitProvider needed — authkit-nextjs uses middleware pattern, not React context
- Two-layer auth protection (middleware + withAuth) for session management
- Keep WorkOS AuthKit default emails for verification and password reset
- Turbo Repo for monorepo build caching and task orchestration
- Root scripts delegate to apps/web via pnpm -C pattern

**Issues Resolved:**
- AuthKitProvider import error — discovered library doesn't export provider, uses middleware instead
- Turbo v2.8.1 requires `tasks` field instead of deprecated `pipeline` field
- Root path needed in middleware matcher for withAuth() session injection on homepage

**Issues Deferred:**
- Dual lockfile situation (apps/web package-lock.json + root pnpm-lock.yaml)
- Next.js 16 middleware deprecation warning (suggests "proxy" instead)

**Technical Debt Incurred:**
- Dual lockfile needs resolution (standardize on pnpm or configure turbopack.root)
- Middleware convention may need migration to proxy pattern for Next.js 16+

---

_For current project status, see .planning/PROJECT.md_
